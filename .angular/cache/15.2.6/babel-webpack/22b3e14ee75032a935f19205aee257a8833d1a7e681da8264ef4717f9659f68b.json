{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../login.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nexport class ConnexionComponent {\n  constructor(authService, router) {\n    this.authService = authService;\n    this.router = router;\n    this.user = {\n      email: '',\n      password: ''\n    };\n  }\n  onSubmit(loginForm) {\n    if (loginForm.valid) {\n      this.authService.loginUser(this.user.email, this.user.password).subscribe(user => {\n        if (user) {\n          console.log('Utilisateur connecté avec succès');\n          this.authService.loginUser(this.user.email, this.user.password);\n          this.router.navigate(['/home']);\n        } else {\n          console.log('Échec de la connexion');\n        }\n      }, error => {\n        console.log('Erreur lors de la connexion', error);\n      });\n    }\n  }\n}\nConnexionComponent.ɵfac = function ConnexionComponent_Factory(t) {\n  return new (t || ConnexionComponent)(i0.ɵɵdirectiveInject(i1.LoginService), i0.ɵɵdirectiveInject(i2.Router));\n};\nConnexionComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ConnexionComponent,\n  selectors: [[\"app-connexion\"]],\n  decls: 16,\n  vars: 3,\n  consts: [[1, \"login-container\"], [1, \"form-container\"], [3, \"submit\"], [\"loginForm\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"email\"], [\"type\", \"text\", \"id\", \"email\", \"name\", \"username\", \"required\", \"\", \"autofocus\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"password\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"submit\", 3, \"disabled\"]],\n  template: function ConnexionComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r1 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n      i0.ɵɵtext(2, \"Connexion\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 1)(4, \"form\", 2, 3);\n      i0.ɵɵlistener(\"submit\", function ConnexionComponent_Template_form_submit_4_listener() {\n        i0.ɵɵrestoreView(_r1);\n        const _r0 = i0.ɵɵreference(5);\n        return i0.ɵɵresetView(ctx.onSubmit(_r0));\n      });\n      i0.ɵɵelementStart(6, \"div\", 4)(7, \"label\", 5);\n      i0.ɵɵtext(8, \"Email\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"input\", 6);\n      i0.ɵɵlistener(\"ngModelChange\", function ConnexionComponent_Template_input_ngModelChange_9_listener($event) {\n        return ctx.user.email = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(10, \"div\", 4)(11, \"label\", 7);\n      i0.ɵɵtext(12, \"Mot de passe\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"input\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function ConnexionComponent_Template_input_ngModelChange_13_listener($event) {\n        return ctx.user.password = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"button\", 9);\n      i0.ɵɵtext(15, \"Se connecter\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(5);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"ngModel\", ctx.user.email);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.user.password);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", !_r0.valid);\n    }\n  },\n  dependencies: [i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.NgModel, i3.NgForm],\n  styles: [\".login-container[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    flex-direction: column;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n    min-height: 100vh;\\r\\n    font-family: 'Roboto', sans-serif;\\r\\n  }\\r\\n  \\r\\n  h1[_ngcontent-%COMP%] {\\r\\n    text-align: center;\\r\\n    margin-bottom: 1.5rem;\\r\\n  }\\r\\n  \\r\\n  .form-container[_ngcontent-%COMP%] {\\r\\n    background-color: #ffffff;\\r\\n    padding: 2rem;\\r\\n    border-radius: 8px;\\r\\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\\r\\n    width: 100%;\\r\\n    max-width: 400px;\\r\\n  }\\r\\n  \\r\\n.form-group[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  flex-direction: column;\\r\\n  margin-bottom: 1.5rem;\\r\\n}\\r\\n\\r\\nlabel[_ngcontent-%COMP%] {\\r\\n  margin-bottom: 0.5rem;\\r\\n}\\r\\n\\r\\ninput[_ngcontent-%COMP%] {\\r\\n  padding: 0.5rem;\\r\\n  font-size: 1rem;\\r\\n  border: 1px solid #cccccc;\\r\\n  border-radius: 4px;\\r\\n}\\r\\n\\r\\nbutton[_ngcontent-%COMP%] {\\r\\n  cursor: pointer;\\r\\n  background-color: #007bff;\\r\\n  color: #ffffff;\\r\\n  padding: 0.5rem;\\r\\n  font-size: 1rem;\\r\\n  border: none;\\r\\n  border-radius: 4px;\\r\\n  width: 100%;\\r\\n}\\r\\n\\r\\nbutton[_ngcontent-%COMP%]:hover {\\r\\n  background-color: #0069d9;\\r\\n}\\r\\n\\r\\nbutton[_ngcontent-%COMP%]:disabled {\\r\\n  background-color: #b3d7ff;\\r\\n  cursor: not-allowed;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29ubmV4aW9uL2Nvbm5leGlvbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDRCQUE0QjtBQUM1Qiw0QkFBNEI7QUFDNUI7SUFDSSxhQUFhO0lBQ2Isc0JBQXNCO0lBQ3RCLHVCQUF1QjtJQUN2QixtQkFBbUI7SUFDbkIsaUJBQWlCO0lBQ2pCLGlDQUFpQztFQUNuQzs7RUFFQTtJQUNFLGtCQUFrQjtJQUNsQixxQkFBcUI7RUFDdkI7O0VBRUE7SUFDRSx5QkFBeUI7SUFDekIsYUFBYTtJQUNiLGtCQUFrQjtJQUNsQix3Q0FBd0M7SUFDeEMsV0FBVztJQUNYLGdCQUFnQjtFQUNsQjs7QUFFRjtFQUNFLGFBQWE7RUFDYixzQkFBc0I7RUFDdEIscUJBQXFCO0FBQ3ZCOztBQUVBO0VBQ0UscUJBQXFCO0FBQ3ZCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLGVBQWU7RUFDZix5QkFBeUI7RUFDekIsa0JBQWtCO0FBQ3BCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLHlCQUF5QjtFQUN6QixjQUFjO0VBQ2QsZUFBZTtFQUNmLGVBQWU7RUFDZixZQUFZO0VBQ1osa0JBQWtCO0VBQ2xCLFdBQVc7QUFDYjs7QUFFQTtFQUNFLHlCQUF5QjtBQUMzQjs7QUFFQTtFQUNFLHlCQUF5QjtFQUN6QixtQkFBbUI7QUFDckIiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBjb25uZXhpb24uY29tcG9uZW50LmNzcyAqL1xyXG4vKiBjb25uZXhpb24uY29tcG9uZW50LmNzcyAqL1xyXG4ubG9naW4tY29udGFpbmVyIHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgbWluLWhlaWdodDogMTAwdmg7XHJcbiAgICBmb250LWZhbWlseTogJ1JvYm90bycsIHNhbnMtc2VyaWY7XHJcbiAgfVxyXG4gIFxyXG4gIGgxIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIG1hcmdpbi1ib3R0b206IDEuNXJlbTtcclxuICB9XHJcbiAgXHJcbiAgLmZvcm0tY29udGFpbmVyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmZmZmY7XHJcbiAgICBwYWRkaW5nOiAycmVtO1xyXG4gICAgYm9yZGVyLXJhZGl1czogOHB4O1xyXG4gICAgYm94LXNoYWRvdzogMCA0cHggNnB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgbWF4LXdpZHRoOiA0MDBweDtcclxuICB9XHJcbiAgXHJcbi5mb3JtLWdyb3VwIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XHJcbiAgbWFyZ2luLWJvdHRvbTogMS41cmVtO1xyXG59XHJcblxyXG5sYWJlbCB7XHJcbiAgbWFyZ2luLWJvdHRvbTogMC41cmVtO1xyXG59XHJcblxyXG5pbnB1dCB7XHJcbiAgcGFkZGluZzogMC41cmVtO1xyXG4gIGZvbnQtc2l6ZTogMXJlbTtcclxuICBib3JkZXI6IDFweCBzb2xpZCAjY2NjY2NjO1xyXG4gIGJvcmRlci1yYWRpdXM6IDRweDtcclxufVxyXG5cclxuYnV0dG9uIHtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwN2JmZjtcclxuICBjb2xvcjogI2ZmZmZmZjtcclxuICBwYWRkaW5nOiAwLjVyZW07XHJcbiAgZm9udC1zaXplOiAxcmVtO1xyXG4gIGJvcmRlcjogbm9uZTtcclxuICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbn1cclxuXHJcbmJ1dHRvbjpob3ZlciB7XHJcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwNjlkOTtcclxufVxyXG5cclxuYnV0dG9uOmRpc2FibGVkIHtcclxuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYjNkN2ZmO1xyXG4gIGN1cnNvcjogbm90LWFsbG93ZWQ7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;AAUA,OAAM,MAAOA,kBAAkB;EAM7BC,YAAoBC,WAAyB,EAAUC,MAAc;IAAjD,gBAAW,GAAXD,WAAW;IAAwB,WAAM,GAANC,MAAM;IAL7D,SAAI,GAAG;MACLC,KAAK,EAAE,EAAE;MACTC,QAAQ,EAAE;KACX;EAEwE;EAEzEC,QAAQ,CAACC,SAAiB;IACxB,IAAIA,SAAS,CAACC,KAAK,EAAE;MACnB,IAAI,CAACN,WAAW,CAACO,SAAS,CAAC,IAAI,CAACC,IAAI,CAACN,KAAK,EAAE,IAAI,CAACM,IAAI,CAACL,QAAQ,CAAC,CAACM,SAAS,CACtED,IAAI,IAAI;QACP,IAAIA,IAAI,EAAE;UACRE,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC;UAC/C,IAAI,CAACX,WAAW,CAACO,SAAS,CAAC,IAAI,CAACC,IAAI,CAACN,KAAK,EAAE,IAAI,CAACM,IAAI,CAACL,QAAQ,CAAC;UAC/D,IAAI,CAACF,MAAM,CAACW,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;SAChC,MAAM;UACLF,OAAO,CAACC,GAAG,CAAC,uBAAuB,CAAC;;MAExC,CAAC,EACAE,KAAK,IAAI;QACRH,OAAO,CAACC,GAAG,CAAC,6BAA6B,EAAEE,KAAK,CAAC;MACnD,CAAC,CACF;;EAEL;;AAzBWf,kBAAkB;mBAAlBA,kBAAkB;AAAA;AAAlBA,kBAAkB;QAAlBA,kBAAkB;EAAAgB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;;MCT/BC,8BAA6B;MACrBA,yBAAS;MAAAA,iBAAK;MAClBA,8BAA4B;MACtBA;QAAAA;QAAA;QAAA,OAAUA,gCAAmB;MAAA,EAAC;MAClCA,8BAAwB;MACHA,qBAAK;MAAAA,iBAAQ;MAChCA,gCAA0F;MAA5CA;QAAA;MAAA,EAAwB;MAAtEA,iBAA0F;MAG5FA,+BAAwB;MACAA,6BAAY;MAAAA,iBAAQ;MAC1CA,iCAA0F;MAArCA;QAAA;MAAA,EAA2B;MAAhFA,iBAA0F;MAG5FA,kCAAoD;MAAAA,6BAAY;MAAAA,iBAAS;;;;MARzBA,eAAwB;MAAxBA,wCAAwB;MAKjBA,eAA2B;MAA3BA,2CAA2B;MAG5DA,eAA6B;MAA7BA,qCAA6B","names":["ConnexionComponent","constructor","authService","router","email","password","onSubmit","loginForm","valid","loginUser","user","subscribe","console","log","navigate","error","selectors","decls","vars","consts","template","i0"],"sourceRoot":"","sources":["C:\\Users\\saubi\\ANGULAR PROJECTS\\ASII\\M1-angular\\src\\app\\connexion\\connexion.component.ts","C:\\Users\\saubi\\ANGULAR PROJECTS\\ASII\\M1-angular\\src\\app\\connexion\\connexion.component.html"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { Router } from '@angular/router';\r\nimport { LoginService } from '../login.service';\r\n\r\n@Component({\r\n  selector: 'app-connexion',\r\n  templateUrl: './connexion.component.html',\r\n  styleUrls: ['./connexion.component.css']\r\n})\r\nexport class ConnexionComponent {\r\n  user = {\r\n    email: '',\r\n    password: ''\r\n  };\r\n\r\n  constructor(private authService: LoginService, private router: Router) { }\r\n\r\n  onSubmit(loginForm: NgForm) {\r\n    if (loginForm.valid) {\r\n      this.authService.loginUser(this.user.email, this.user.password).subscribe(\r\n        (user) => {\r\n          if (user) {\r\n            console.log('Utilisateur connecté avec succès');\r\n            this.authService.loginUser(this.user.email, this.user.password);\r\n            this.router.navigate(['/home']); \r\n          } else {\r\n            console.log('Échec de la connexion');\r\n          }\r\n        },\r\n        (error) => {\r\n          console.log('Erreur lors de la connexion', error);\r\n        }\r\n      );\r\n    }\r\n  }\r\n}\r\n","<!-- login.component.html -->\r\n<div class=\"login-container\">\r\n    <h1>Connexion</h1>\r\n    <div class=\"form-container\">\r\n    <form (submit)=\"onSubmit(loginForm)\" #loginForm=\"ngForm\">\r\n      <div class=\"form-group\">\r\n        <label for=\"email\">Email</label>\r\n        <input type=\"text\" id=\"email\" name=\"username\" [(ngModel)]=\"user.email\" required autofocus>\r\n      </div>\r\n  \r\n      <div class=\"form-group\">\r\n        <label for=\"password\">Mot de passe</label>\r\n        <input type=\"password\" id=\"password\" name=\"password\" [(ngModel)]=\"user.password\" required>\r\n      </div>\r\n  \r\n      <button type=\"submit\" [disabled]=\"!loginForm.valid\">Se connecter</button>\r\n    </form>\r\n  </div>\r\n  "]},"metadata":{},"sourceType":"module","externalDependencies":[]}