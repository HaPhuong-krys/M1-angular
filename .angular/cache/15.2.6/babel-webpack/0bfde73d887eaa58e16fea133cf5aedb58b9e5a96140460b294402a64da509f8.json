{"ast":null,"code":"import { Articles } from '../Model/Articles';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../form-creation-article.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction AjouterArticleFormComponent_option_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const category_r2 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", category_r2.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(category_r2.nom_categorie);\n  }\n}\nexport class AjouterArticleFormComponent {\n  constructor(formService) {\n    this.formService = formService;\n    this.newArticle = new Articles();\n    this.categories = [];\n    this.cats = [];\n  }\n  ngOnInit() {\n    this.getCategories();\n  }\n  getCategories() {\n    this.formService.getAllCategories().subscribe(res => {\n      this.cats = res;\n      console.log(this.cats);\n    });\n  }\n  onSubmit(form) {\n    this.formService.addArticle(this.newArticle).subscribe(data => {\n      console.log(data);\n      alert('Article ajouté avec succès!');\n      this.newArticle = new Articles(); // réinitialiser la variable newArticle\n      form.reset();\n    });\n  }\n}\nAjouterArticleFormComponent.ɵfac = function AjouterArticleFormComponent_Factory(t) {\n  return new (t || AjouterArticleFormComponent)(i0.ɵɵdirectiveInject(i1.FormCreationArticleService));\n};\nAjouterArticleFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AjouterArticleFormComponent,\n  selectors: [[\"app-ajouter-article-form\"]],\n  decls: 28,\n  vars: 1,\n  consts: [[1, \"container\"], [3, \"ngSubmit\"], [\"articleForm\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"libelle\"], [\"type\", \"text\", \"id\", \"libelle\", \"placeholder\", \"Libelle de l'article\", 1, \"form-control\"], [\"for\", \"marque\"], [\"type\", \"text\", \"id\", \"marque\", \"placeholder\", \"\", 1, \"form-control\"], [\"for\", \"prix\"], [\"type\", \"number\", \"id\", \"prix\", \"placeholder\", \"\", 1, \"form-control\"], [\"for\", \"Categories\"], [\"id\", \"caterogies\", 1, \"custom-select\", \"mr-sm-8\"], [\"selected\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [3, \"value\"]],\n  template: function AjouterArticleFormComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r3 = i0.ɵɵgetCurrentView();\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1, 2);\n      i0.ɵɵlistener(\"ngSubmit\", function AjouterArticleFormComponent_Template_form_ngSubmit_1_listener() {\n        i0.ɵɵrestoreView(_r3);\n        const _r0 = i0.ɵɵreference(2);\n        return i0.ɵɵresetView(ctx.onSubmit(_r0));\n      });\n      i0.ɵɵelementStart(3, \"div\", 3)(4, \"label\", 4);\n      i0.ɵɵtext(5, \"Libelle de l'article\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"input\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 3)(8, \"label\", 6);\n      i0.ɵɵtext(9, \"Marque\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(10, \"input\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\", 3)(12, \"label\", 8);\n      i0.ɵɵtext(13, \"prix\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(14, \"input\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"div\", 3)(16, \"label\", 10);\n      i0.ɵɵtext(17, \"Categories\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"select\", 11)(19, \"option\", 12);\n      i0.ɵɵtext(20, \"Choose...\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(21, AjouterArticleFormComponent_option_21_Template, 2, 2, \"option\", 13);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(22, \"div\", 3)(23, \"label\", 6);\n      i0.ɵɵtext(24, \"Photo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(25, \"input\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"button\", 14);\n      i0.ɵɵtext(27, \"Submit\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(21);\n      i0.ɵɵproperty(\"ngForOf\", ctx.cats);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.ɵNgNoValidate, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.NgControlStatusGroup, i3.NgForm],\n  styles: [\".container[_ngcontent-%COMP%] {\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n    height: 100vh;\\r\\n  }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWpvdXRlci1hcnRpY2xlLWZvcm0vYWpvdXRlci1hcnRpY2xlLWZvcm0uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLGFBQWE7SUFDYix1QkFBdUI7SUFDdkIsbUJBQW1CO0lBQ25CLGFBQWE7RUFDZiIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXIge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgIGhlaWdodDogMTAwdmg7XHJcbiAgfSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":"AAIA,SAASA,QAAQ,QAAQ,mBAAmB;;;;;;;ICclCC,kCAA4D;IAAAA,YAA4B;IAAAA,iBAAS;;;;IAA3DA,sCAAqB;IAACA,eAA4B;IAA5BA,+CAA4B;;;ADPlG,OAAM,MAAOC,2BAA2B;EAOtCC,YACUC,WAAwC;IAAxC,gBAAW,GAAXA,WAAW;IAPrB,eAAU,GAAa,IAAIJ,QAAQ,EAAE;IAErC,eAAU,GAAG,EAAE;IAEf,SAAI,GAAsB,EAAE;EAM5B;EAEAK,QAAQ;IACN,IAAI,CAACC,aAAa,EAAE;EACtB;EAEAA,aAAa;IACX,IAAI,CAACF,WAAW,CAACG,gBAAgB,EAAE,CAACC,SAAS,CAACC,GAAG,IAAG;MAClD,IAAI,CAACC,IAAI,GAAGD,GAAG;MACfE,OAAO,CAACC,GAAG,CAAC,IAAI,CAACF,IAAI,CAAC;IACxB,CAAC,CAAC;EACJ;EAGAG,QAAQ,CAACC,IAAY;IACnB,IAAI,CAACV,WAAW,CAACW,UAAU,CAAC,IAAI,CAACC,UAAU,CAAC,CAACR,SAAS,CAAES,IAAS,IAAI;MACnEN,OAAO,CAACC,GAAG,CAACK,IAAI,CAAC;MACjBC,KAAK,CAAC,6BAA6B,CAAC;MACpC,IAAI,CAACF,UAAU,GAAG,IAAIhB,QAAQ,EAAE,CAAC,CAAC;MAClCc,IAAI,CAACK,KAAK,EAAE;IACd,CAAC,CAAC;EACJ;;AAhCWjB,2BAA2B;mBAA3BA,2BAA2B;AAAA;AAA3BA,2BAA2B;QAA3BA,2BAA2B;EAAAkB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;;MCXxCvB,8BAAuB;MACKA;QAAAA;QAAA;QAAA,OAAYA,gCAAqB;MAAA,EAAC;MAC5DA,8BAAwB;MACDA,oCAAoB;MAAAA,iBAAQ;MACjDA,2BAAyF;MAC3FA,iBAAM;MACNA,8BAAwB;MACFA,sBAAM;MAAAA,iBAAQ;MAClCA,4BAAmE;MACrEA,iBAAM;MACNA,+BAAwB;MACFA,qBAAI;MAAAA,iBAAQ;MAC9BA,4BAAmE;MACvEA,iBAAM;MACNA,+BAAwB;MACIA,2BAAU;MAAAA,iBAAQ;MAC1CA,mCAAsD;MACnCA,0BAAS;MAAAA,iBAAS;MACjCA,qFAAiG;MAErGA,iBAAS;MAGbA,+BAAwB;MACFA,sBAAK;MAAAA,iBAAQ;MACjCA,4BAAmE;MACrEA,iBAAM;MAGNA,mCAA8C;MAAAA,uBAAM;MAAAA,iBAAS;;;MAXxBA,gBAAO;MAAPA,kCAAO","names":["Articles","i0","AjouterArticleFormComponent","constructor","formService","ngOnInit","getCategories","getAllCategories","subscribe","res","cats","console","log","onSubmit","form","addArticle","newArticle","data","alert","reset","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\Users\\saubi\\ANGULAR PROJECTS\\ASII\\M1-angular\\src\\app\\ajouter-article-form\\ajouter-article-form.component.ts","C:\\Users\\saubi\\ANGULAR PROJECTS\\ASII\\M1-angular\\src\\app\\ajouter-article-form\\ajouter-article-form.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Categories } from '../Model/Categories';\r\nimport { FormCreationArticleService } from '../form-creation-article.service';\r\nimport { NgForm } from '@angular/forms';\r\nimport { Articles } from '../Model/Articles';\r\n\r\n@Component({\r\n  selector: 'app-ajouter-article-form',\r\n  templateUrl: './ajouter-article-form.component.html',\r\n  styleUrls: ['./ajouter-article-form.component.css']\r\n})\r\nexport class AjouterArticleFormComponent implements OnInit {\r\n  newArticle: Articles = new Articles();\r\n\r\n  categories = [];\r\n\r\n  cats: Array<Categories> = [];\r\n\r\n  constructor(\r\n    private formService : FormCreationArticleService\r\n    ){\r\n\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getCategories();\r\n  }\r\n\r\n  getCategories() {\r\n    this.formService.getAllCategories().subscribe(res => {\r\n      this.cats = res;\r\n      console.log(this.cats);\r\n    });\r\n  }\r\n\r\n\r\n  onSubmit(form: NgForm) {\r\n    this.formService.addArticle(this.newArticle).subscribe((data: any) => {\r\n      console.log(data);\r\n      alert('Article ajouté avec succès!');\r\n      this.newArticle = new Articles(); // réinitialiser la variable newArticle\r\n      form.reset();\r\n    });\r\n  }\r\n\r\n}\r\n","<div class=\"container\">\r\n<form #articleForm=\"ngForm\" (ngSubmit)=\"onSubmit(articleForm)\">\r\n  <div class=\"form-group\">\r\n    <label for=\"libelle\">Libelle de l'article</label>\r\n    <input type=\"text\" class=\"form-control\" id=\"libelle\"  placeholder=\"Libelle de l'article\">\r\n  </div>\r\n  <div class=\"form-group\">\r\n    <label for=\"marque\">Marque</label>\r\n    <input type=\"text\" class=\"form-control\" id=\"marque\" placeholder=\"\">\r\n  </div>\r\n  <div class=\"form-group\">\r\n      <label for=\"prix\">prix</label>\r\n      <input type=\"number\" class=\"form-control\" id=\"prix\" placeholder=\"\">\r\n  </div>\r\n  <div class=\"form-group\">\r\n      <label for=\"Categories\">Categories</label>\r\n      <select class=\"custom-select mr-sm-8\" id=\"caterogies\">\r\n        <option selected>Choose...</option>\r\n          <option *ngFor=\"let category of cats\" [value]=\"category.id\">{{ category.nom_categorie }}</option>\r\n\r\n      </select>\r\n  </div>\r\n\r\n  <div class=\"form-group\">\r\n    <label for=\"marque\">Photo</label>\r\n    <input type=\"text\" class=\"form-control\" id=\"marque\" placeholder=\"\">\r\n  </div>\r\n\r\n\r\n  <button type=\"submit\" class=\"btn btn-primary\">Submit</button>\r\n</form>\r\n</div>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}